/**
 * Description : tsconfig.json - 📌 모노레포 전체를 위한 통합 TypeScript 설정
 * Author : Shiwoo Min
 * Date : 2025-09-05
 *
 * 참고 명령어:
 *   npx tsc --project tsconfig.json --showConfig
 */
{
  "extends": "./tsconfig.base.json",

  "compilerOptions": {
    // 프로젝트의 기본 경로 지정 (모듈 경로 설정을 위한 기준)
    "rootDir": "./",

    // 컴파일된 JavaScript 파일이 저장될 디렉터리
    "outDir": "./dist",

    // 타입 정의 파일 경로 지정
    "typeRoots": ["./node_modules/@types"],

    // 타입 선언 파일(.d.ts) 관련
    "declarationMap": true,

    // 모노레포에서 빌드 성능 향상을 위한 증분 빌드 정보 파일
    "tsBuildInfoFile": "./dist/.tsbuildinfo",

    // 컴파일 에러 시 .js 파일 출력 여부
    "noEmitOnError": false,

    // 기존 @repo 스타일 유지 (호환성을 위해)
    "paths": {
      "@repo/database": ["./packages/database/src"],
      "@repo/database/*": ["./packages/database/src/*"],
      "@repo/ui": ["./packages/ui/src"],
      "@repo/ui/*": ["./packages/ui/src/*"],
      "@repo/api-contract": ["./packages/api-contract/src"],
      "@repo/api-contract/*": ["./packages/api-contract/src/*"],
      "@repo/core": ["./packages/core/src"],
      "@repo/core/*": ["./packages/core/src/*"]
    }
  },

  // TypeScript 컴파일에 포함할 파일들 - 모든 패키지와 앱 포함
  "include": [
    "packages/*/src/**/*.ts",
    "packages/*/src/**/*.tsx",
    "apps/*/src/**/*.ts",
    "apps/*/src/**/*.tsx",
    "apps/*/*.ts",
    "apps/*/*.tsx",
    "*.ts",
    "*.tsx"
, "apps/web/next.config.mjs"  ],

  // TypeScript 컴파일 대상에서 제외
  "exclude": [
    "node_modules",
    "dist",
    ".next",
    "out",
    "build",
    "coverage",
    "**/*.test.ts",
    "**/*.test.tsx",
    "**/*.spec.ts",
    "**/*.spec.tsx",
    "**/node_modules",
    "**/dist",
    // Playwright 관련 제외 항목
    "test-results",
    "playwright-report"
  ]
}
